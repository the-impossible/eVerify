{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %} Manage Result{% endblock %}
{% block head %}
  {% include "partials/auth_head.html" %}
{% endblock %}
{% block body %}
<div class="container-scroller">
  {% include "partials/login_nav.html" %}
  <div class="container-fluid page-body-wrapper">
    {% include "partials/skins.html" %}
    {% include "partials/sidebar.html" %}
    <div class="main-panel">
      <div class="content-wrapper">
        <div class="row">
          <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <h4 class="card-title">Manage Kadpoly e-Verify Uploaded Result</h4>
                <p class="card-description">
                  use the table to edit, view and delete
                </p>
                <div hx-get="{% url 'auth:list_result' %}" hx-trigger="load, listChanged from:body">

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% include "partials/login_footer.html" %}
    </div>
  </div>
</div>
<div class="modal fade" id="result" style="display: none;" aria-hidden="true">
  <div class="modal-dialog" id="resultDialog" role="document" hx-target="this">

  </div>
</div>
{% include "partials/auth_script.html" %}
<script>
  var modal = new bootstrap.Modal(document.getElementById('result'))

  htmx.on('htmx:afterSwap', (e) => {
    if (e.detail.target.id === 'resultDialog'){
      modal.show();
    }
  })

  htmx.on('htmx:beforeSwap', (e) => {
    if (e.detail.target.id === 'resultDialog' && !e.detail.xhr.response){
      modal.hide();
    }
  })
  </script>
{% endblock %}